/*!
 * Name    : Just Another Parallax [Jarallax]
 * Version : 1.7.1
 * Author  : _nK https://nkdev.info
 * GitHub  : https://github.com/nk-o/jarallax
 */
!function(t){function e(){o=t.innerWidth||document.documentElement.clientWidth,a=t.innerHeight||document.documentElement.clientHeight}function i(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent("on"+e,function(){i.call(t)})}function n(i){t.requestAnimationFrame(function(){"scroll"!==i.type&&e()
for(var t=0,n=d.length;t<n;t++)"scroll"!==i.type&&(d[t].coverImage(),d[t].clipContainer()),d[t].onScroll()})}Date.now||(Date.now=function(){return(new Date).getTime()}),t.requestAnimationFrame||function(){for(var e=["webkit","moz"],i=0;i<e.length&&!t.requestAnimationFrame;++i){var n=e[i]
t.requestAnimationFrame=t[n+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n+"CancelAnimationFrame"]||t[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)||!t.requestAnimationFrame||!t.cancelAnimationFrame){var o=0
t.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(o+16,e)
return setTimeout(function(){t(o=i)},i-e)},t.cancelAnimationFrame=clearTimeout}}()
var o,a,r=function(){if(!t.getComputedStyle)return!1
var e,i=document.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};(document.body||document.documentElement).insertBefore(i,null)
for(var o in n)void 0!==i.style[o]&&(i.style[o]="translate3d(1px,1px,1px)",e=t.getComputedStyle(i).getPropertyValue(n[o]))
return(document.body||document.documentElement).removeChild(i),void 0!==e&&0<e.length&&"none"!==e}(),s=-1<navigator.userAgent.toLowerCase().indexOf("android"),l=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream,m=!!t.opera,c=/Edge\/\d+/.test(navigator.userAgent),h=/Trident.*rv[ :]*11\./.test(navigator.userAgent),p=!!Function("/*@cc_on return document.documentMode===10@*/")(),u=document.all&&!t.atob
e()
var d=[],g=function(){var t=0
return function(e,i){var n
this.$item=e,this.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:!0,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},n=JSON.parse(this.$item.getAttribute("data-jarallax")||"{}"),this.options=this.extend({},this.defaults,n,i),s&&this.options.noAndroid||l&&this.options.noIos||(this.options.speed=Math.min(2,Math.max(-1,parseFloat(this.options.speed))),(n=this.options.elementInViewport)&&"object"==typeof n&&void 0!==n.length&&(n=n[0]),!n instanceof Element&&(n=null),this.options.elementInViewport=n,this.instanceID=t++,this.image={src:this.options.imgSrc||null,$container:null,$item:null,width:this.options.imgWidth||null,height:this.options.imgHeight||null,useImgTag:l||s||m||h||p||c},this.initImg()&&this.init())}}()
g.prototype.css=function(e,i){if("string"==typeof i)return t.getComputedStyle?t.getComputedStyle(e).getPropertyValue(i):e.style[i]
i.transform&&(i.WebkitTransform=i.MozTransform=i.transform)
for(var n in i)e.style[n]=i[n]
return e},g.prototype.extend=function(t){t=t||{}
for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i])
return t},g.prototype.initImg=function(){return null===this.image.src&&(this.image.src=this.css(this.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!this.image.src||"none"===this.image.src)},g.prototype.init=function(){function t(){e.coverImage(),e.clipContainer(),e.onScroll(!0),e.$item.setAttribute("data-jarallax-original-styles",e.$item.getAttribute("style")),e.options.onInit&&e.options.onInit.call(e),setTimeout(function(){e.$item&&e.css(e.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}var e=this,i={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},n={position:"fixed"}
for(e.image.$container=document.createElement("div"),e.css(e.image.$container,i),e.css(e.image.$container,{visibility:"hidden","z-index":e.options.zIndex}),e.image.$container.setAttribute("id","jarallax-container-"+e.instanceID),e.$item.appendChild(e.image.$container),e.image.useImgTag&&r&&e.options.enableTransform?(e.image.$item=document.createElement("img"),e.image.$item.setAttribute("src",e.image.src),n=e.extend({"max-width":"none"},i,n)):(e.image.$item=document.createElement("div"),n=e.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+e.image.src+'")'},i,n)),u&&(n.backgroundAttachment="fixed"),e.parentWithTransform=0,i=e.$item;null!==i&&i!==document&&0===e.parentWithTransform;){var o=e.css(i,"-webkit-transform")||e.css(i,"-moz-transform")||e.css(i,"transform")
o&&"none"!==o&&(e.parentWithTransform=1,e.css(e.image.$container,{transform:"translateX(0) translateY(0)"})),i=i.parentNode}e.css(e.image.$item,n),e.image.$container.appendChild(e.image.$item),e.image.width&&e.image.height?t():e.getImageSize(e.image.src,function(i,n){e.image.width=i,e.image.height=n,t()}),d.push(e)},g.prototype.destroy=function(){for(var t=0,e=d.length;t<e;t++)if(d[t].instanceID===this.instanceID){d.splice(t,1)
break}t=this.$item.getAttribute("data-jarallax-original-styles"),this.$item.removeAttribute("data-jarallax-original-styles"),"null"===t?this.$item.removeAttribute("style"):this.$item.setAttribute("style",t),this.$clipStyles&&this.$clipStyles.parentNode.removeChild(this.$clipStyles),this.image.$container.parentNode.removeChild(this.image.$container),this.options.onDestroy&&this.options.onDestroy.call(this),delete this.$item.jarallax
for(var i in this)delete this[i]},g.prototype.getImageSize=function(t,e){if(t&&e){var i=new Image
i.onload=function(){e(i.width,i.height)},i.src=t}},g.prototype.clipContainer=function(){if(!u){var t=this.image.$container.getBoundingClientRect(),e=t.width,t=t.height
this.$clipStyles||(this.$clipStyles=document.createElement("style"),this.$clipStyles.setAttribute("type","text/css"),this.$clipStyles.setAttribute("id","#jarallax-clip-"+this.instanceID),(document.head||document.getElementsByTagName("head")[0]).appendChild(this.$clipStyles)),e=["#jarallax-container-"+this.instanceID+" {","   clip: rect(0 "+e+"px "+t+"px 0);","   clip: rect(0, "+e+"px, "+t+"px, 0);","}"].join("\n"),this.$clipStyles.styleSheet?this.$clipStyles.styleSheet.cssText=e:this.$clipStyles.innerHTML=e}},g.prototype.coverImage=function(){if(this.image.width&&this.image.height){var t=this.image.$container.getBoundingClientRect(),e=t.width,i=t.height,t=t.left,n=this.image.width,o=this.image.height,s=this.options.speed,l="scroll"===this.options.type||"scroll-opacity"===this.options.type,m=0,c=0,h=i,p=0,u=0
l&&(m=s*(i+a)/2,(0>s||1<s)&&(m=s*Math.max(i,a)/2),h=0>s||1<s?Math.max(i,a)+2*Math.abs(m):h+Math.abs(a-i)*(1-s)),c=h*n/o,c<e&&(c=e,h=c*o/n),this.bgPosVerticalCenter=0,!(l&&h<a)||r&&this.options.enableTransform||(this.bgPosVerticalCenter=(a-h)/2,h=a),l?(p=t+(e-c)/2,u=(a-h)/2):(p=(e-c)/2,u=(i-h)/2),r&&this.options.enableTransform&&this.parentWithTransform&&(p-=t),this.parallaxScrollDistance=m,this.css(this.image.$item,{width:c+"px",height:h+"px",marginLeft:p+"px",marginTop:u+"px"}),this.options.onCoverImage&&this.options.onCoverImage.call(this)}},g.prototype.isVisible=function(){return this.isElementInViewport||!1},g.prototype.onScroll=function(t){if(this.image.width&&this.image.height){var e=this.$item.getBoundingClientRect(),i=e.top,n=e.height,s={position:"absolute",visibility:"visible",backgroundPosition:"50% 50%"},l=e
if(this.options.elementInViewport&&(l=this.options.elementInViewport.getBoundingClientRect()),this.isElementInViewport=0<=l.bottom&&0<=l.right&&l.top<=a&&l.left<=o,t||this.isElementInViewport){t=Math.max(0,i)
var l=Math.max(0,n+i),m=Math.max(0,-i),c=Math.max(0,i+n-a),h=Math.max(0,n-(i+n-a)),p=Math.max(0,-i+a-n),d=1-2*(a-i)/(a+n),g=1
n<a?g=1-(m||c)/n:l<=a?g=l/a:h<=a&&(g=h/a),"opacity"!==this.options.type&&"scale-opacity"!==this.options.type&&"scroll-opacity"!==this.options.type||(s.transform="translate3d(0, 0, 0)",s.opacity=g),"scale"!==this.options.type&&"scale-opacity"!==this.options.type||(n=1,n=0>this.options.speed?n-this.options.speed*g:n+this.options.speed*(1-g),s.transform="scale("+n+") translate3d(0, 0, 0)"),"scroll"!==this.options.type&&"scroll-opacity"!==this.options.type||(n=this.parallaxScrollDistance*d,r&&this.options.enableTransform?(this.parentWithTransform&&(n-=i),s.transform="translate3d(0, "+n+"px, 0)"):this.image.useImgTag?s.top=n+"px":(this.bgPosVerticalCenter&&(n+=this.bgPosVerticalCenter),s.backgroundPosition="50% "+n+"px"),s.position=u?"absolute":"fixed"),this.css(this.image.$item,s),this.options.onScroll&&this.options.onScroll.call(this,{section:e,beforeTop:t,beforeTopEnd:l,afterTop:m,beforeBottom:c,beforeBottomEnd:h,afterBottom:p,visiblePercent:g,fromViewportCenter:d})}}},i(t,"scroll",n),i(t,"resize",n),i(t,"orientationchange",n),i(t,"load",n)
var f=function(t){("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)&&(t=[t])
var e,i=arguments[1],n=Array.prototype.slice.call(arguments,2),o=t.length,a=0
for(a;a<o;a++)if("object"==typeof i||void 0===i?t[a].jarallax||(t[a].jarallax=new g(t[a],i)):t[a].jarallax&&(e=t[a].jarallax[i].apply(t[a].jarallax,n)),void 0!==e)return e
return t}
f.constructor=g
var y=t.jarallax
if(t.jarallax=f,t.jarallax.noConflict=function(){return t.jarallax=y,this},"undefined"!=typeof jQuery){var v=function(){var e=arguments||[]
return Array.prototype.unshift.call(e,this),e=f.apply(t,e),"object"!=typeof e?e:this}
v.constructor=g
var x=jQuery.fn.jarallax
jQuery.fn.jarallax=v,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=x,this}}i(t,"DOMContentLoaded",function(){f(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window)
